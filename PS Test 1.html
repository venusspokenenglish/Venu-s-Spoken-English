<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Test - 1 Positive Sentences</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f2f4f7;
    padding: 20px;
}
.container {
    max-width: 900px;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h1 {
    text-align: center;
}
input {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    margin-bottom: 12px;
}
.question {
    margin-bottom: 15px;
}
button {
    padding: 12px 20px;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
.submit-btn {
    background: #007bff;
    color: white;
}
.submit-btn:hover {
    background: #0056b3;
}
.correct {
    color: green;
    font-weight: bold;
}
.wrong {
    color: red;
    font-weight: bold;
}
.score {
    font-size: 20px;
    margin-bottom: 15px;
}
.whatsapp-btn {
    background: #25D366;
    color: white;
    margin-top: 15px;
}
.result {
    display: none;
}
</style>
</head>

<body>

<div class="container">

<h1>Test - 1 : Positive Sentences</h1>

<form id="testForm">

<input type="text" id="name" placeholder="Student Name" required>
<input type="tel" id="mobile" placeholder="Mobile Number" required>

<div id="questions"></div>

<button type="submit" class="submit-btn">Submit Test</button>

</form>

<div id="result" class="result"></div>

</div>

<script>
// ---------------- NORMALIZE FUNCTION (STRUCTURE ONLY) ----------------
function normalizeSentence(sentence) {
    return sentence
        .toLowerCase()
        .replace(/[.,!?]/g, "")
        .replace(/\s+/g, " ")
        .trim();
}

// ---------------- QUESTIONS ----------------
const questions = [
"నేను ఇంగ్లీష్ మాట్లాడగలను.",
"నేను ఇంగ్లీష్ మాట్లాడగలిగే వాడిని.",
"నేను ఇంగ్లీష్ మాట్లాడితే బాగుంటుంది.",
"ఆమె ఇంగ్లీష్ మాట్లాడొచ్చు మాట్లాడకపోవచ్చు.",
"వాళ్ళు చాలా వరకు ఇంగ్లీష్ మాట్లాడకపోవచ్చు.",
"మేము ఇంగ్లీష్ మాట్లాడాల్సిన అవసరం ఉంది.",
"వాళ్ళు ఒకప్పుడు ఇంగ్లీష్ మాట్లాడేవాళ్ళు ఇప్పుడు మాట్లాడటం లేదు.",
"నేను తప్పకుండా ఇంగ్లీష్ మాట్లాడాలి.",
"మాకు ఇంగ్లీష్ మాట్లాడాలి అనే కోరిక ఉంది.",
"అతను ఇంగ్లీష్ మాట్లాడతాడు.",
"వాళ్ళు ఇంగ్లీష్ మాట్లాడతారు.",
"నేను ఇంగ్లీష్ మాట్లాడాను.",
"మేము తర్వాత ఇంగ్లీష్ మాట్లాడతాము.",
"నేను ఇప్పుడు ఇంగ్లీష్ మాట్లాడుతూ ఉన్నాను.",
"ఆమె ఇప్పుడు ఇంగ్లీష్ మాట్లాడుతూ ఉంది.",
"వాళ్ళు ఇప్పుడు ఇంగ్లీష్ మాట్లాడుతూ ఉన్నారు.",
"ఆమె ఒకప్పుడు ఇంగ్లీష్ మాట్లాడుతూ ఉండేది.",
"వాళ్ళు ఒకప్పుడు ఇంగ్లీష్ మాట్లాడుతూ ఉండేవారు.",
"మేము తర్వాత ఇంగ్లీష్ మాట్లాడుతూ ఉంటాము.",
"ఆమెకు ఇప్పుడు ఇంగ్లీష్ క్లాస్ ఉంది.",
"వాళ్ళకు ఇప్పుడు ఇంగ్లీష్ క్లాస్ ఉంది.",
"మాకు ఒకప్పుడు ఇంగ్లీష్ క్లాస్ ఉన్నింది.",
"స్టూడెంట్స్ కి తర్వాత ఇంగ్లీష్ క్లాస్ ఉంటుంది.",
"నేను ఇప్పుడు సంతోషంగా ఉన్నాను.",
"ఆమె ఇప్పుడు busy గా ఉంది.",
"వాళ్ళు ఇప్పుడు energetic గా ఉన్నారు.",
"అతను ఒకప్పుడు friendly గా ఉండేవాడు.",
"వాళ్ళు ఒకప్పుడు ముంబైలో ఉండేవారు.",
"మేము తర్వాత rich గా ఉంటాము.",
"స్టూడెంట్స్ clear గా ఇంగ్లీష్ మాట్లాడతారు."
];

// ---------------- CORRECT STRUCTURES ----------------
const answers = [
"I can speak English",
"I could speak English",
"I should speak English",
"I may speak English",
"They might speak English",
"We need to speak English",
"They used to speak English",
"I must speak English",
"We want to speak English",
"He speaks English",
"They speak English",
"I spoke English",
"We will speak English",
"I am speaking English",
"She is speaking English",
"They are speaking English",
"She was speaking English",
"They were speaking English",
"We will be speaking English",
"She has an English class",
"They have an English class",
"We had an English class",
"Students will have an English class",
"I am happy",
"She is busy",
"They are energetic",
"He was friendly",
"They were in Mumbai",
"We will be rich",
"Students speak English clearly"
];

// ---------------- LOAD QUESTIONS ----------------
const qDiv = document.getElementById("questions");
questions.forEach((q, i) => {
    qDiv.innerHTML += `
    <div class="question">
        <label>${i+1}. ${q}</label>
        <input type="text" id="ans${i}" required>
    </div>`;
});

// ---------------- SUBMIT LOGIC ----------------
document.getElementById("testForm").addEventListener("submit", function(e) {
    e.preventDefault();

    let score = 0;
    let resultHTML = "";
    let whatsappText = "";

    const name = document.getElementById("name").value;
    const mobile = document.getElementById("mobile").value;

    whatsappText += `Test - 1 Results%0AName: ${name}%0AMobile: ${mobile}%0A%0A`;

    questions.forEach((q, i) => {
        const userAns = document.getElementById("ans" + i).value;
        const correct = normalizeSentence(userAns) === normalizeSentence(answers[i]);

        if (correct) {
            score++;
            resultHTML += `<p class="correct">${i+1}. ✔ Correct (Structure OK)</p>`;
            whatsappText += `${i+1}. ✔ Correct%0A`;
        } else {
            resultHTML += `
            <p class="wrong">
            ${i+1}. ✖ Wrong<br>
            Your: ${userAns}<br>
            Expected: ${answers[i]}
            </p>`;
            whatsappText += `${i+1}. ✖%0AYour: ${userAns}%0AExpected: ${answers[i]}%0A%0A`;
        }
    });

    resultHTML = `<div class="score">Score: ${score} / ${answers.length}</div>` + resultHTML;
    whatsappText = `Score: ${score}/${answers.length}%0A%0A` + whatsappText;

    document.getElementById("testForm").style.display = "none";
    const resultDiv = document.getElementById("result");
    resultDiv.style.display = "block";

    resultDiv.innerHTML = resultHTML + `
    <a href="https://wa.me/917013122351?text=${whatsappText}" target="_blank">
        <button class="whatsapp-btn">Share Result on WhatsApp</button>
    </a>`;
});
</script>

</body>
</html>
